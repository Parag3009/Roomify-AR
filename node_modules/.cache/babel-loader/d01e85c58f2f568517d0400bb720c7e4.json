{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst items = localStorage.getItem('cartItems') !== null ? JSON.parse(localStorage.getItem('cartItems')) : [];\nconst initialState = {\n  value: items\n};\nexport const cartItemsSlice = createSlice({\n  name: 'cartItems',\n  initialState,\n  reducers: {\n    addItem: (state, action) => {\n      const newItem = action.payload;\n      const duplicate = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size);\n      if (duplicate.length > 0) {\n        state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size);\n        state.value = [...state.value, {\n          id: duplicate[0].id,\n          slug: newItem.slug,\n          color: newItem.color,\n          size: newItem.size,\n          price: newItem.price,\n          quantity: newItem.quantity + duplicate[0].quantity\n        }];\n      } else {\n        state.value = [...state.value, {\n          ...action.payload,\n          id: state.value.length > 0 ? state.value[state.value.length - 1].id + 1 : 1\n        }];\n      }\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)));\n    },\n    updateItem: (state, action) => {\n      const newItem = action.payload;\n      const item = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size);\n      if (item.length > 0) {\n        state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size);\n        state.value = [...state.value, {\n          id: item[0].id,\n          slug: newItem.slug,\n          color: newItem.color,\n          size: newItem.size,\n          price: newItem.price,\n          quantity: newItem.quantity\n        }];\n      }\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)));\n    },\n    removeItem: (state, action) => {\n      const item = action.payload;\n      state.value = state.value.filter(e => e.slug !== item.slug || e.color !== item.color || e.size !== item.size);\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)));\n    }\n  }\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  addItem,\n  removeItem,\n  updateItem\n} = cartItemsSlice.actions;\nexport default cartItemsSlice.reducer;","map":{"version":3,"names":["createSlice","items","localStorage","getItem","JSON","parse","initialState","value","cartItemsSlice","name","reducers","addItem","state","action","newItem","payload","duplicate","filter","e","slug","color","size","length","id","price","quantity","setItem","stringify","sort","a","b","updateItem","item","removeItem","actions","reducer"],"sources":["D:/Sem-8/Major Project/proj/ArProject/src/redux/shopping-cart/cartItemsSlide.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst items = localStorage.getItem('cartItems') !== null ? JSON.parse(localStorage.getItem('cartItems')) : []\r\n\r\nconst initialState = {\r\n    value: items,\r\n}\r\n\r\nexport const cartItemsSlice = createSlice({\r\n    name: 'cartItems',\r\n    initialState,\r\n    reducers: {\r\n        addItem: (state, action) => {\r\n            const newItem = action.payload\r\n            const duplicate = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size)\r\n            if (duplicate.length > 0) {\r\n                state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size)\r\n                state.value = [...state.value, {\r\n                    id: duplicate[0].id,\r\n                    slug: newItem.slug,\r\n                    color: newItem.color,\r\n                    size: newItem.size,\r\n                    price: newItem.price,\r\n                    quantity: newItem.quantity + duplicate[0].quantity\r\n                }]\r\n            } else {\r\n                state.value = [...state.value, {\r\n                    ...action.payload,\r\n                    id: state.value.length > 0 ? state.value[state.value.length - 1].id + 1 : 1\r\n                }]\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\r\n        },\r\n        updateItem: (state, action) => {\r\n            const newItem = action.payload\r\n            const item = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size)\r\n            if (item.length > 0) {\r\n                state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size)\r\n                state.value = [...state.value, {\r\n                    id: item[0].id,\r\n                    slug: newItem.slug,\r\n                    color: newItem.color,\r\n                    size: newItem.size,\r\n                    price: newItem.price,\r\n                    quantity: newItem.quantity\r\n                }]\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\r\n        },\r\n        removeItem: (state, action) => {\r\n            const item = action.payload\r\n            state.value = state.value.filter(e => e.slug !== item.slug || e.color !== item.color || e.size !== item.size)\r\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\r\n        },\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { addItem, removeItem, updateItem } = cartItemsSlice.actions\r\n\r\nexport default cartItemsSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,KAAK,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE;AAE7G,MAAMG,YAAY,GAAG;EACjBC,KAAK,EAAEN;AACX,CAAC;AAED,OAAO,MAAMO,cAAc,GAAGR,WAAW,CAAC;EACtCS,IAAI,EAAE,WAAW;EACjBH,YAAY;EACZI,QAAQ,EAAE;IACNC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MACxB,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9B,MAAMC,SAAS,GAAGJ,KAAK,CAACL,KAAK,CAACU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKL,OAAO,CAACK,IAAI,IAAID,CAAC,CAACE,KAAK,KAAKN,OAAO,CAACM,KAAK,IAAIF,CAAC,CAACG,IAAI,KAAKP,OAAO,CAACO,IAAI,CAAC;MAC1H,IAAIL,SAAS,CAACM,MAAM,GAAG,CAAC,EAAE;QACtBV,KAAK,CAACL,KAAK,GAAGK,KAAK,CAACL,KAAK,CAACU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKL,OAAO,CAACK,IAAI,IAAID,CAAC,CAACE,KAAK,KAAKN,OAAO,CAACM,KAAK,IAAIF,CAAC,CAACG,IAAI,KAAKP,OAAO,CAACO,IAAI,CAAC;QACtHT,KAAK,CAACL,KAAK,GAAG,CAAC,GAAGK,KAAK,CAACL,KAAK,EAAE;UAC3BgB,EAAE,EAAEP,SAAS,CAAC,CAAC,CAAC,CAACO,EAAE;UACnBJ,IAAI,EAAEL,OAAO,CAACK,IAAI;UAClBC,KAAK,EAAEN,OAAO,CAACM,KAAK;UACpBC,IAAI,EAAEP,OAAO,CAACO,IAAI;UAClBG,KAAK,EAAEV,OAAO,CAACU,KAAK;UACpBC,QAAQ,EAAEX,OAAO,CAACW,QAAQ,GAAGT,SAAS,CAAC,CAAC,CAAC,CAACS;QAC9C,CAAC,CAAC;MACN,CAAC,MAAM;QACHb,KAAK,CAACL,KAAK,GAAG,CAAC,GAAGK,KAAK,CAACL,KAAK,EAAE;UAC3B,GAAGM,MAAM,CAACE,OAAO;UACjBQ,EAAE,EAAEX,KAAK,CAACL,KAAK,CAACe,MAAM,GAAG,CAAC,GAAGV,KAAK,CAACL,KAAK,CAACK,KAAK,CAACL,KAAK,CAACe,MAAM,GAAG,CAAC,CAAC,CAACC,EAAE,GAAG,CAAC,GAAG;QAC9E,CAAC,CAAC;MACN;MACArB,YAAY,CAACwB,OAAO,CAAC,WAAW,EAAEtB,IAAI,CAACuB,SAAS,CAACf,KAAK,CAACL,KAAK,CAACqB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACN,EAAE,GAAGO,CAAC,CAACP,EAAE,GAAG,CAAC,GAAIM,CAAC,CAACN,EAAE,GAAGO,CAAC,CAACP,EAAE,GAAG,CAAC,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC;IAC3H,CAAC;IACDQ,UAAU,EAAEA,CAACnB,KAAK,EAAEC,MAAM,KAAK;MAC3B,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9B,MAAMiB,IAAI,GAAGpB,KAAK,CAACL,KAAK,CAACU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKL,OAAO,CAACK,IAAI,IAAID,CAAC,CAACE,KAAK,KAAKN,OAAO,CAACM,KAAK,IAAIF,CAAC,CAACG,IAAI,KAAKP,OAAO,CAACO,IAAI,CAAC;MACrH,IAAIW,IAAI,CAACV,MAAM,GAAG,CAAC,EAAE;QACjBV,KAAK,CAACL,KAAK,GAAGK,KAAK,CAACL,KAAK,CAACU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKL,OAAO,CAACK,IAAI,IAAID,CAAC,CAACE,KAAK,KAAKN,OAAO,CAACM,KAAK,IAAIF,CAAC,CAACG,IAAI,KAAKP,OAAO,CAACO,IAAI,CAAC;QACtHT,KAAK,CAACL,KAAK,GAAG,CAAC,GAAGK,KAAK,CAACL,KAAK,EAAE;UAC3BgB,EAAE,EAAES,IAAI,CAAC,CAAC,CAAC,CAACT,EAAE;UACdJ,IAAI,EAAEL,OAAO,CAACK,IAAI;UAClBC,KAAK,EAAEN,OAAO,CAACM,KAAK;UACpBC,IAAI,EAAEP,OAAO,CAACO,IAAI;UAClBG,KAAK,EAAEV,OAAO,CAACU,KAAK;UACpBC,QAAQ,EAAEX,OAAO,CAACW;QACtB,CAAC,CAAC;MACN;MACAvB,YAAY,CAACwB,OAAO,CAAC,WAAW,EAAEtB,IAAI,CAACuB,SAAS,CAACf,KAAK,CAACL,KAAK,CAACqB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACN,EAAE,GAAGO,CAAC,CAACP,EAAE,GAAG,CAAC,GAAIM,CAAC,CAACN,EAAE,GAAGO,CAAC,CAACP,EAAE,GAAG,CAAC,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC;IAC3H,CAAC;IACDU,UAAU,EAAEA,CAACrB,KAAK,EAAEC,MAAM,KAAK;MAC3B,MAAMmB,IAAI,GAAGnB,MAAM,CAACE,OAAO;MAC3BH,KAAK,CAACL,KAAK,GAAGK,KAAK,CAACL,KAAK,CAACU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKa,IAAI,CAACb,IAAI,IAAID,CAAC,CAACE,KAAK,KAAKY,IAAI,CAACZ,KAAK,IAAIF,CAAC,CAACG,IAAI,KAAKW,IAAI,CAACX,IAAI,CAAC;MAC7GnB,YAAY,CAACwB,OAAO,CAAC,WAAW,EAAEtB,IAAI,CAACuB,SAAS,CAACf,KAAK,CAACL,KAAK,CAACqB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACN,EAAE,GAAGO,CAAC,CAACP,EAAE,GAAG,CAAC,GAAIM,CAAC,CAACN,EAAE,GAAGO,CAAC,CAACP,EAAE,GAAG,CAAC,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC;IAC3H;EACJ;AACJ,CAAC,CAAC;;AAEF;AACA,OAAO,MAAM;EAAEZ,OAAO;EAAEsB,UAAU;EAAEF;AAAW,CAAC,GAAGvB,cAAc,CAAC0B,OAAO;AAEzE,eAAe1B,cAAc,CAAC2B,OAAO"},"metadata":{},"sourceType":"module"}